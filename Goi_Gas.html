<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Gọi gas</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <style>
        .navbar-nav .nav-link {
            font-weight: bold;
            color: white !important;
        }
        .navbar-brand {
            color: white;
            font-weight: bold;
        }
        .form-section {
            background-color: #f8d7da;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        .table-section {
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        .step {
            text-align: center;
            margin-bottom: 20px;
        }
        .step img {
            width: 50px;
            height: 50px;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
<nav class="navbar navbar-expand-lg bg-danger">
    <div class="container-fluid">
        <a class="navbar-brand" href="Gas.html"><i class='bx bx-home-alt-2'></i>Gas</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="Goi_Gas.html" >Gọi gas</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Sửa chữa và bảo hành</a>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        Bếp & loại khác
                    </a>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="Bep_gas.html"">Bếp gas</a></li>
                        <li><a class="dropdown-item" href="#">Bếp điện</a></li>
                        <li><a class="dropdown-item" href="#">Máy hút mùi</a></li>
                    </ul>
                </li>
                <li class="nav-item">
                    <a class="nav-link disabled">Feedback</a>
                </li>
            </ul>
            <form style="margin-right: 50px">
                <button class="btn btn-outline-dark" onclick='addToCart("+ i +")'><i class='bx bx-cart-add'></i></button>
            </form>
            <form class="d-flex" role="search">
                <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
                <button class="btn btn-outline-dark" type="submit">Search</button>
            </form>

        </div>
    </div>
</nav>

<div class="container mt-5">
    <div class="row">
        <div class="col-md-3 step">
            <img src="https://www.gas24h.com.vn/themes/gas/ecommerce/images/icon-1.png" >
            <p><strong>Bước 1:</strong></p>
            <p>Đặt hàng trên website</p>
        </div>
        <div class="col-md-3 step">
            <img src="https://www.gas24h.com.vn/themes/gas/ecommerce/images/icon-2.png" >
            <p><strong>Bước 2:</strong></p>
            <p>Nhân viên liên hệ xác nhận</p>
        </div>
        <div class="col-md-3 step">
            <img src="https://www.gas24h.com.vn/themes/gas/ecommerce/images/icon-3.png" >
            <p><strong>Bước 3:</strong></p>
            <p>Giao Gas: 15 phút<br>Sản phẩm khác: 24 giờ</p>
        </div>
        <div class="col-md-3 step">
            <img src="https://www.gas24h.com.vn/themes/gas/ecommerce/images/icon-4.png" >
            <p><strong>Bước 4:</strong></p>
            <p>Hoàn thành đơn hàng</p>
        </div>
    </div>
</div>

<div class="container mt-5">
    <div class="row">
        <div class="col-md-4 form-section">
            <h5>Thông tin khách hàng gọi gas</h5>
            <form>
                <div class="mb-3">
                    <label for="name" class="form-label">Họ tên</label>
                    <input type="text" class="form-control" id="name" placeholder="Nhập họ tên">
                </div>
                <div class="mb-3">
                    <label for="phone" class="form-label">Số điện thoại</label>
                    <input type="text" class="form-control" id="phone" placeholder="Nhập số điện thoại">
                </div>
                <div class="mb-3">
                    <label for="address" class="form-label">Địa chỉ</label>
                    <input type="text" class="form-control" id="address" placeholder="Nhập địa chỉ">
                </div>
                <div class="mb-3">
                    <label for="type" class="form-label">Loại gas</label>
                    <select class="form-select" id="type">
                        <option value="">— Chọn loại gas —</option>
                        <option value="Petrolimex">Petrolimex</option>
                        <option value="PetroDana">PetroDana</option>
                        <option value="PetroVietNam">PetroVietNam</option>
                        <option value="Gas Gia Đình đỏ">Gas Gia Đình đỏ</option>
                        <option value="Gas Siam tín">Gas Siam tín</option>
                    </select>
                </div>
                <button type="button" class="btn btn-outline-dark" id="add" onclick="addCustomer()" style="margin-left:150px">Call</button>
            </form>
        </div>
        <div class="col-md-8 table-section ">
            <h3>Danh sách khách hàng</h3>
            <table class="table table-bordered table-hover">
                <thead class="table-light">
                <tr>
                    <th>Họ tên</th>
                    <th>Số điện thoại</th>
                    <th>Địa chỉ</th>
                    <th>Loại gas</th>
                    <th>Giá</th>
                    <th>Ảnh</th>
                    <th></th>
                    <td id="total"></td>
                </tr>
                </thead>
                <tbody id="list-customer">
                </tbody>
            </table>
        </div>
</div>


<div id="gasCarousel" class="carousel slide">

    <div class="carousel-inner">
        <div class="carousel-item active">
            <h3 style="margin-top: 10px">Danh sách các loại gas trên thị trường</h3>
            <div class="row">
                <div class="col-md-3">
                    <div class="card">
                        <img src="https://ecom.viettechsmart.com:5020/Media/Images/0/BinhGas_new-20.jpg" class="card-img-top" >
                        <div class="card-body">
                            <h5 class="card-title">Gas Petrolimex</h5>
                            <p class="card-text"><b>500.000 ₫</b></p>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card">
                        <img src="https://ecom.viettechsmart.com:5020/Media/Images/0/BinhGas_new-17.jpg" class="card-img-top">
                        <div class="card-body">
                            <h5 class="card-title">Gas Petrodana 12kg</h5>
                            <p class="card-text"><b>480.000 ₫</b></p>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card">
                        <img src="https://ecom.viettechsmart.com:5020/Media/Images/0/BinhGas_new-11.jpg" class="card-img-top" >
                        <div class="card-body">
                            <h5 class="card-title">Gas Gia Đình đỏ 12kg</h5>
                            <p class="card-text"><b>502.000 ₫</b></p>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card">
                        <img src="https://ecom.viettechsmart.com:5020/Media/Images/0/BinhGas_new-21.jpg" class="card-img-top" >
                        <div class="card-body">
                            <h5 class="card-title">Gas Siam tím 12kg</h5>
                            <p class="card-text"><b>502.000 ₫</b></p>
                        </div>
                    </div>
                </div>
                <div class="carousel-item">
                    <div class="row">
                        <div class="col-md-4">
                            <div class="card">
                                <img src="https://ecom.viettechsmart.com:5020/Media/Images/0/BinhGas_new-18.jpg" class="card-img-top">
                                <div class="card-body">
                                    <h5 class="card-title">Gas Thái Lan</h5>
                                    <p class="card-text"><b>490.000 ₫</b></p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#productCarousel" data-bs-slide="prev"><i class='bx bx-right-arrow-alt' ></i>
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#productCarousel" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
    </button>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
    class Customer{
        constructor(name,phone,address,type,price,image ) {
            this.name = name;
            this.phone = phone;
            this.address = address;
            this.type = type;
            this.price = price;
            this.image = image;
        }
        getName(){
            return this.name;
        }
        setName(name){
            this.name = name;
        }
        getPhone(){
            return this.phone;
        }
        setPhone(phone){
            this.phone = phone;
        }
        getAddress(){
            return this.address;
        }
        setAddress(address){
            this.address =address;
        }
        getType(){
            return this.type;
        }
        setType(type){
            this.type = type;
        }
        getImage(){
            return this.image;
        }
        setImage(image){
            this.image = image;
        }
        getPrice(){
            return this.price;
        }
        setPrice(price){
            this.price = price;
        }
    }
    let imageMap = {
        'Petrolimex': { image: 'https://ecom.viettechsmart.com:5020/Media/Images/0/BinhGas_new-20.jpg', price: 500000 },
        'PetroDana' : { image: 'https://ecom.viettechsmart.com:5020/Media/Images/0/BinhGas_new-17.jpg', price: 480000 },
        'PetroVietNam' : { image: 'https://ecom.viettechsmart.com:5020/Media/Images/0/BinhGas_new-25.jpg', price: 520000 },
        'Gas Gia Đình đỏ' : { image: 'https://ecom.viettechsmart.com:5020/Media/Images/0/BinhGas_new-11.jpg', price: 502000 },
        'Gas Siam tín' : { image: 'https://ecom.viettechsmart.com:5020/Media/Images/0/BinhGas_new-21.jpg', price: 510000 }
    };

    // function replaceCharWithImageUrl() {
    //     let selectGas = document.getElementById('type').value;
    //     if (imageMap[selectGas]) {
    //         document.getElementById('img').value = imageMap[selectGas].image;
    //     } else {
    //         document.getElementById('img').value = '';
    //     }
    // }
    let customer1 = new Customer("Tài","0935530517","Tổ 29, phường Hoà Thọ Tây, thành phố Đà Nẵng","Petrolimex",500000, 'https://ecom.viettechsmart.com:5020/Media/Images/0/BinhGas_new-20.jpg');
    let customer2 = new Customer("Văn","0905530517","Tổ 30, phường Hoà Thọ Tây, thành phố Đà Nẵng","PetroDana",480000,'https://ecom.viettechsmart.com:5020/Media/Images/0/BinhGas_new-17.jpg');
    let array = [customer1,customer2];
    function displayCustomer(arr) {
        let str = "";
        for (let i = 0; i < arr.length; i++) {
            str += "<tr>" +
                "<td>" + arr[i].getName() + "</td>" +
                "<td>" + arr[i].getPhone() + "</td>" +
                "<td>" + arr[i].getAddress() + "</td>" +
                "<td>" + arr[i].getType() + "</td>" +
                "<td>" + arr[i].getPrice().toLocaleString('vi-VN') + " VND</td>" +
                "<td><img src='" + arr[i].getImage() +  "' style='width:100px; height:auto;'/></td>" +
                "<td>"+
                "<button class=\"btn btn-outline-danger\" onclick='editCustomer("+ i +")'><i class='bx bx-edit-alt' ></i></button>"+
                "<button style='margin-top: 20px' class=\"btn btn-outline-danger\" onclick='deleteCustomer("+ i +")'><i class='bx bx-trash'></i></button>"+
                "</td>"+
                "</tr>";
        }
        document.getElementById('list-customer').innerHTML= str;
        document.getElementById("total").innerHTML = arr.length + " products";
    }
    displayCustomer(array);

    function addCustomer(){
        let name = document.getElementById('name').value.trim();
        let phone = document.getElementById('phone').value.trim();
        let address = document.getElementById('address').value.trim();
        let type = document.getElementById('type').value;
        if (!type || !name || !phone || !address) {
            alert("Nhập lại đầy đủ nội dung.");
            return;
        }

        let img = imageMap[type].image;
        let price = imageMap[type].price;

        let customer = new Customer(name,phone,address,type,price,img);
        array.push(customer);
        alert("Gọi gas thành công !");
        displayCustomer(array);
        document.getElementById('name').value = '';
        document.getElementById('phone').value = '';
        document.getElementById('address').value = '';
        document.getElementById('type').value = '';
        document.getElementById('img').value = '';
    }
    displayCustomer(array);


    function deleteCustomer(i){
        let check = confirm("Bạn chắc chắn muốn xoá " + array[i].getName() + " ?");
        if(check){
            array.splice(i,1);
            alert("Xoá thành công !");
        }
        displayCustomer(array);
    }
    function editCustomer(i){
        let name = prompt("Nhập tên");
        let phone = prompt("Nhập số điện thoại");
        let address = prompt("Nhập đỉa chỉ");
        let type = prompt("Nhập loại gas (Petrolimex, PetroDana, PetroVietNam, Gas Gia Đình đỏ, Gas Siam tín)");

        if (imageMap[type]) {
            let img = imageMap[type].image;
            let price = imageMap[type].price;
            array[i].setType(type);
            array[i].setImage(img);
            array[i].setPrice(price);
        } else {
            alert("Loại gas không hợp lệ, vui lòng nhập đúng tên loại gas.");
        }

        array[i].setName(name);
        array[i].setPhone(phone);
        array[i].setAddress(address);
        alert("Chỉnh sửa thành công !")
        displayCustomer(array);
    }


</script>
</body>
</html>